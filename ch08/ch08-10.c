/*
    학번 : 202511204
    이름 : 강기민
    프로그램 명 : ch08 PPT 예제 8-5 : const 포인터의 의미
    날짜 : 2025.09.18
*/

/*
    관련 개념 :
    const 키워드와 포인터가 결합하면 "읽기 전용" 제한을 걸 수 있다.
    const int *p : p가 가리키는 값은 변경 불가, 포인터 p 자체는 변경 가능
    int * const p : 포인터 p는 다른 변수를 가리킬 수 없음, 단 가리키는 값은 변경 가능
    const int * const p : 가리키는 값과 포인터 모두 변경 불가
*/

#include <stdio.h>

// 기능명: main. const 포인터 의미 확인
// 내용: const와 포인터 조합에 따른 제약 사항을 실습하고 출력한다
// 입력: 없음
// 출력: const 포인터 동작 결과
// 오류: const 제한 위반 시 컴파일 에러 발생
int main(void)
{
    int a = 10, b = 20;

    const int* p1 = &a; // p1는 a에 읽기 전용으로 접근
    int* const p2 = &a; // p2는 a 전용 포인터
    const int* const p3 = &a; // p3는 읽기 전용 + 전용 포인터

    printf("*p1 = %d\n", *p1); // p1으로 a를 읽어온다
    // *p1 = 100; // 오류: const 변수로 간주되므로 컴파일 에러
    p1 = &b; // p1이 다른 변수를 가리키는 것은 가능
    printf("*p1 = %d\n", *p1); // p1으로 b를 읽어온다

    // p2 = &b; // 오류: p2가 다른 변수를 가리킬 수 없음
    *p2 = 100; // p2가 가리키는 값은 변경 가능
    printf("*p2 = %d\n", *p2);

    // *p3 = 100; // 오류: 값 변경 불가
    // p3 = &b; // 오류: 다른 변수 가리키기 불가
    printf("*p3 = %d\n", *p3); // p3이 가리키는 a의 값 출력

    return 0;
}
